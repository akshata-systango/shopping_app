{"ast":null,"code":"/**\n * Module Dependencies\n */\nvar location = require('./location');\n\nvar bus = require('./bus');\n/**\n * Export `Go`\n */\n\n\nmodule.exports = Go;\n/**\n * Go\n */\n\nfunction Go(path, state) {\n  if (arguments.length) {\n    window.history.pushState(state, null, path);\n    bus.emit('pushstate', path);\n  } else {\n    var params = {};\n    var m = match(location.pathname, params);\n    return m && params;\n  }\n}\n/**\n * Setup the \"popstate\" events\n */\n\n\nfunction onpopstate() {\n  var loaded = false;\n  if ('undefined' === typeof window) return;\n\n  if (document.readyState === 'complete') {\n    loaded = true;\n  } else {\n    window.addEventListener('load', function () {\n      setTimeout(function () {\n        loaded = true;\n      }, 0);\n    });\n  }\n\n  return function _onpopstate(e) {\n    if (!loaded) return;\n    bus.emit('popstate', location.pathname);\n  };\n}\n/**\n * Start listening for the \"popstate\" event\n */\n\n\nwindow.addEventListener('popstate', onpopstate());","map":{"version":3,"sources":["/home/ubox143/node_modules/react-route/lib/go.js"],"names":["location","require","bus","module","exports","Go","path","state","arguments","length","window","history","pushState","emit","params","m","match","pathname","onpopstate","loaded","document","readyState","addEventListener","setTimeout","_onpopstate","e"],"mappings":"AAAA;AACA;AACA;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAjB;AAEA;AACA;AACA;;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,EAAjB;AAEA;AACA;AACA;;AAEA,SAASA,EAAT,CAAYC,IAAZ,EAAkBC,KAAlB,EAAyB;AACvB,MAAIC,SAAS,CAACC,MAAd,EAAsB;AACpBC,IAAAA,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBL,KAAzB,EAAgC,IAAhC,EAAsCD,IAAtC;AACAJ,IAAAA,GAAG,CAACW,IAAJ,CAAS,WAAT,EAAsBP,IAAtB;AACD,GAHD,MAGO;AACL,QAAIQ,MAAM,GAAG,EAAb;AACA,QAAIC,CAAC,GAAGC,KAAK,CAAChB,QAAQ,CAACiB,QAAV,EAAoBH,MAApB,CAAb;AACA,WAAOC,CAAC,IAAID,MAAZ;AACD;AACF;AAED;AACA;AACA;;;AAEA,SAASI,UAAT,GAAsB;AACpB,MAAIC,MAAM,GAAG,KAAb;AACA,MAAI,gBAAgB,OAAOT,MAA3B,EAAmC;;AACnC,MAAIU,QAAQ,CAACC,UAAT,KAAwB,UAA5B,EAAwC;AACtCF,IAAAA,MAAM,GAAG,IAAT;AACD,GAFD,MAEO;AACLT,IAAAA,MAAM,CAACY,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzCC,MAAAA,UAAU,CAAC,YAAW;AACpBJ,QAAAA,MAAM,GAAG,IAAT;AACD,OAFS,EAEP,CAFO,CAAV;AAGD,KAJD;AAKD;;AAED,SAAO,SAASK,WAAT,CAAqBC,CAArB,EAAwB;AAC7B,QAAI,CAACN,MAAL,EAAa;AACbjB,IAAAA,GAAG,CAACW,IAAJ,CAAS,UAAT,EAAqBb,QAAQ,CAACiB,QAA9B;AACD,GAHD;AAID;AAED;AACA;AACA;;;AAEAP,MAAM,CAACY,gBAAP,CAAwB,UAAxB,EAAoCJ,UAAU,EAA9C","sourcesContent":["/**\n * Module Dependencies\n */\n\nvar location = require('./location');\nvar bus = require('./bus');\n\n/**\n * Export `Go`\n */\n\nmodule.exports = Go;\n\n/**\n * Go\n */\n\nfunction Go(path, state) {\n  if (arguments.length) {\n    window.history.pushState(state, null, path);\n    bus.emit('pushstate', path);\n  } else {\n    var params = {};\n    var m = match(location.pathname, params);\n    return m && params;\n  }\n}\n\n/**\n * Setup the \"popstate\" events\n */\n\nfunction onpopstate() {\n  var loaded = false;\n  if ('undefined' === typeof window) return;\n  if (document.readyState === 'complete') {\n    loaded = true;\n  } else {\n    window.addEventListener('load', function() {\n      setTimeout(function() {\n        loaded = true;\n      }, 0);\n    });\n  }\n\n  return function _onpopstate(e) {\n    if (!loaded) return;\n    bus.emit('popstate', location.pathname);\n  }\n}\n\n/**\n * Start listening for the \"popstate\" event\n */\n\nwindow.addEventListener('popstate', onpopstate());\n"]},"metadata":{},"sourceType":"script"}